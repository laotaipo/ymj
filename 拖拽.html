<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>拖拽</title>
    <style>
        #div1{
            height: 200px;
            width: 200px;
            background-color: orange;
            position: absolute;
            left: 0;
            top: 50px;
        }
    </style>

</head>
<body>
hahaahahaha
<div id = div1>
    div1
</div>
<script>
    var oDiv1 = document.getElementById("div1");
    var dTop = dLeft = 0;
    oDiv1.onmousedown = function(e){
       e = e ||window.event;
        dTop = e.clientY - oDiv1.offsetTop;
        dLeft = e.clientX - oDiv1.offsetLeft;
        document.onmousemove = function(e){
            e = e ||window.event;
            var iLeft = e.clientX - dLeft;
            var iTop = e.clientY - dTop ;
            oDiv1.style.top = iTop + "px";
            oDiv1.style.left = iLeft + "px";
            if(oDiv1.offsetLeft < 0)
                oDiv1.style.left = 0;
            if(oDiv1.offsetTop < 0)
                oDiv1.style.top = 0;
            if(oDiv1.offsetLeft > document.documentElement.clientWidth - oDiv1.offsetWidth)
                oDiv1.style.left = document.documentElement.clientWidth - oDiv1.offsetWidth + "px";
            if(oDiv1.offsetTop > document.documentElement.clientHeight - oDiv1.offsetWidth)
               oDiv1.style.top = document.documentElement.clientHeight - oDiv1.offsetWidth + "px";

        }
        document.onmouseup = function(){
            document.onmousemove = null;
            document.onmouseup = null;
        }
    }
</script>
</body>
</html>